<div class="container-fluid h-100" *ngIf="ApiSuccess">
  <div class="row d-flex justify-content-between">
    <div class="col-8 h-100">
      <div class="row profileBG">
        <div class="col-12 px-0">
          <div class="row">
            <div class="row d-flex justify-content-between mt-3">
              <div class="col-2 d-flex justify-content-center fontIcon">
                <i class="fa-solid fa-image-portrait me-2 my-auto" style="font-size: 25px; color: #005fbc"></i>โปรไฟล์
              </div>
              <div class="col-2 d-flex justify-content-center editprofile">
                <p style="cursor: pointer" (click)="editData()">แก้ไขข้อมูล</p>
              </div>
            </div>
            <div class="col-4 d-flex justify-content-center px-0">
              <img class="img-profile mx-auto d-block d-flex justify-content-end img-thumbnail"
                src="{{ baseURL }}{{ ObjdataUser.ud_picture }}" />
              <label *ngIf="whenEdit" for="getFile1" class="file_upload text-center col-0"><i
                  class="fa-solid fa-camera upload-icon upload-icon mt-1"></i></label>
              <input (change)="editPicture($event)" type="file" id="getFile1" class="hide" accept="image/*" />
            </div>
            <div class="col-8 d-flex align-items-center px-5">
              <div class="d-flex flex-column fontStyle" style="width: 100% !important">
                <div class="row d-flex mb-4">
                  <div class="col ps-4 fontprofileMan">
                    ชื่อ: {{ ObjdataUser.ud_prefix_name }}
                    {{ ObjdataUser.ud_firstname_th }}
                    <p class="d-flex align-items-center ms-3 my-0 fontcontract">
                      ({{ ObjdataUser.user_contract_name }})
                    </p>
                  </div>
                </div>
                <div class="row mb-4 ps-4 fontprofileMan">
                  นามสกุล: {{ ObjdataUser.ud_lastname_th }}
                </div>
                <div *ngIf="!whenEdit" class="row ps-4 fontprofileMan">
                  เบอร์โทรศัพท์: {{ ObjdataUser.ud_phone }}
                </div>
                <div *ngIf="whenEdit" class="row ps-4 fontprofileMan">
                  <div class="row"> เบอร์โทรศัพท์: <input [(ngModel)]="phonenumber" (keypress)="numberOnly($event)" maxlength="10" type="text"
                      class="ms-2 col-4 editPhonenumber"></div>
                </div>
              </div>
            </div>
          </div>

          <div class="row px-0 fontStyle m-4">
            <div class="col-5" style="padding-left: 140px" id="Dataperson">
              <div class="mb-2"><strong>แผนก</strong> :</div>
              <div class="mb-2"><strong>ตำแหน่ง</strong> :</div>
              <div class="mb-2"><strong>บริษัท</strong> :</div>
              <div class="mb-2"><strong>วันที่เริ่มทำงาน</strong> :</div>
              <div class="mb-2"><strong>อายุงาน</strong> :</div>

              <div class="mt-4 changPass">
                <p style="cursor: pointer" routerLink="resetpass">
                  <i class="fa-solid fa-lock me-2"></i>เปลี่ยนรหัสผ่าน
                </p>
              </div>
            </div>
            <div class="col">
              <div class="mb-2">{{ ObjdataUser.dept_name_en }}</div>
              <div class="mb-2">{{ ObjdataUser.user_position }}</div>
              <div class="mb-2">{{ ObjdataUser.user_company }}</div>
              <div class="mb-2">{{ ObjdataUser.user_start_date }}</div>
              <div class="mb-2">{{ ObjdataUser.user_exprience }}</div>
            </div>
          </div>
        </div>
        <div *ngIf="whenEdit" class="row d-flex justify-content-center" style="height: 40px;">
          <button class="col-1 btn-cancel me-2">ยกเลิก</button>
          <button class="col-1 btn-submit" (click)="editPhoneNumber()">บันทึก</button>
        </div>
      </div>
      <div class="row profileBG">
        <div class="div-test fontIcon">
          <i class="fa-solid fa-calendar-minus me-2" style="font-size: 20px; color: #005fbc"></i>วันลาคงเหลือ
        </div>

        <div>
          <div>
            <div style="display: block">
              <canvas *ngIf="ObjdataUser.ud_prefix_id == 1" id="mychart" baseChart [data]="ChartData"
                [type]="ChartType"></canvas>
              <canvas *ngIf="
                  ObjdataUser.ud_prefix_id == 2 || ObjdataUser.ud_prefix_id == 3
                " id="mychart" baseChart [data]="ChartData2" [type]="ChartType2"></canvas>
            </div>
          </div>
        </div>

        <div class="col-12 mb-4">
          <div class="row d-flex justify-content-center graphfont">
            กราฟแสดงวันลาคงเหลือ
          </div>
        </div>
        <div class="row leavefont">
          <div class="col">
            <div class="row mb-2">
              <div class="col ps-5 ms-5" id="leaveDay">
                <p>
                  <i class="fa-solid fa-circle" style="font-size: 16px; color: #fd9229"></i>
                  ลากิจ
                </p>
              </div>
              <div class="col-2 d-flex justify-content-center">
                {{ ObjdataUser.user_leave_day }}
              </div>
            </div>
            <div class="row mb-2">
              <div class="col ps-5 ms-5" id="leaveDay">
                <p>
                  <i class="fa-solid fa-circle" style="font-size: 16px; color: #63c8ce"></i>
                  ลาป่วย
                </p>
              </div>
              <div class="col-2 d-flex justify-content-center">
                {{ ObjdataUser.user_sick_day }}
              </div>
            </div>
            <div class="row mb-2">
              <div class="col ps-5 ms-5" id="leaveDay">
                <p>
                  <i class="fa-solid fa-circle" style="font-size: 16px; color: #c83039"></i>
                  ลาพักร้อน
                </p>
              </div>
              <div class="col-2 d-flex justify-content-center">
                {{ ObjdataUser.user_take_annual_day }}
              </div>
            </div>
            <div class="row mb-2" *ngIf="ObjdataUser.ud_gender_id == 1">
              <div class="col ps-5 ms-5" id="leaveDay">
                <p>
                  <i class="fa-solid fa-circle" style="font-size: 16px; color: #13466a"></i>
                  ลาบวช
                </p>
              </div>
              <div class="col-2 d-flex justify-content-center">
                {{ ObjdataUser.user_ordination_day }}
              </div>
            </div>
          </div>
          <div class="col">
            <div class="row mb-2" *ngIf="ObjdataUser.ud_gender_id == 1">
              <div class="col ps-5 ms-5" id="leaveDay">
                <p>
                  <i class="fa-solid fa-circle" style="font-size: 16px; color: #8cc34d"></i>
                  ลาเพื่อรับราชการทหาร
                </p>
              </div>
              <div class="col-2 d-flex justify-content-center">
                {{ ObjdataUser.user_military_service_day }}
              </div>
            </div>
            <div class="row mb-2" *ngIf="!(ObjdataUser.ud_gender_id == 1)">
              <div class="col ps-5 ms-5" id="leaveDay">
                <p>
                  <i class="fa-solid fa-circle" style="font-size: 16px; color: #8cc34d"></i>
                  ลาคลอด
                </p>
              </div>
              <div class="col-2 d-flex justify-content-center">
                {{ ObjdataUser.user_maternity_day }}
              </div>
            </div>
            <div class="row mb-2">
              <div class="col ps-5 ms-5" id="leaveDay">
                <p>
                  <i class="fa-solid fa-circle" style="font-size: 16px; color: white"></i>
                  ลาเพื่อทำหมัน
                </p>
              </div>
              <div class="col-2 d-flex justify-content-center">
                {{ ObjdataUser.user_sterilization_day }}
              </div>
            </div>
            <div class="row mb-2">
              <div class="col ps-5 ms-5" id="leaveDay">
                <p>
                  <i class="fa-solid fa-circle" style="font-size: 16px; color: white"></i>
                  ลาโดยไม่รับเงิน
                </p>
              </div>
              <div class="col-2 d-flex justify-content-center">
                {{ ObjdataUser.user_without_pay_day }}
              </div>
            </div>
            <div class="row mb-2">
              <div class="col ps-5 ms-5" id="leaveDay">
                <p>
                  <i class="fa-solid fa-circle" style="font-size: 16px; color: white"></i>
                  ลาใช้สิทธิทดแทน
                </p>
              </div>
              <div class="col-2 d-flex justify-content-center">
                {{ ObjdataUser.user_resign_day }}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-4 p-0 h-100">
      <div class="profileBG ms-auto" style="width: 90%">
        <div class="div-test fontIcon mb-4">
          <i class="fa-regular fa-clock me-2 my-auto"></i>การทำโอที
        </div>
        <div class="row px-3 mb-2">
          <div class="col fontOT">ชื่องาน OT</div>
          <div class="col-3">
            <div class="OtfontApproved text-end" style="color: #239411; font-size: 20px">
              อนุมัติ
            </div>
          </div>
        </div>
        <div class="row px-3 mb-2">
          <div class="col fontOT">ชื่องาน OT</div>
          <div class="col-3">
            <div class="OtfontApproved text-end" style="color: #ef0303; font-size: 20px">
              ไม่อนุมัติ
            </div>
          </div>
        </div>
      </div>

      <div *ngIf="roleHR"></div>
      <div class="profileBG ms-auto" style="width: 90%">
        <app-chart-ot class="text-center"></app-chart-ot>
      </div>

      <div class="profileBG ms-auto" style="width: 90%">
        <app-chart-leave class="text-center"></app-chart-leave>
      </div>
    </div>
  </div>
</div>